{"version":3,"sources":["services/AuthService.js","components/NavMenu.js","components/Layout.js","services/MoviesService.js","components/Spinner.js","components/Home.js","components/Orders.js","components/Movies.js","components/Login.js","components/Player.js","App.js","registerServiceWorker.js","index.js"],"names":["API_URL","process","headers","username","password","axios","post","email","id","uuidv4","then","resp","console","log","data","catch","error","response","accessToken","localStorage","setItem","JSON","stringify","this","clearFromLocalStorage","getToken","isJwtExpired","keys","map","key","index","removeItem","parse","getItem","NavMenu","props","toggleNavbar","bind","logOut","state","collapsed","title","setState","AuthService","logout","window","location","reload","Navbar","className","light","Container","NavbarBrand","tag","Link","to","alt","src","NavbarToggler","onClick","Collapse","isOpen","navbar","NavItem","NavLink","Component","displayName","name","Layout","children","fetch","json","Spinner","color","size","loading","Home","movies","MoviesService","getSuggestions","CardDeck","movie","Card","style","width","height","marginTop","CardImg","top","image","CardBody","CardTitle","CardSubtitle","genre","CardText","description","Button","Orders","forecasts","populateRentalHistory","rentalHistory","contents","renderForecastsTable","borderRadius","Table","aria-labelledby","forecast","date","releaseDate","price","rating","numberOfStars","starRatedColor","starDimension","Movies","handleOnSearch","selectedResult","result","currentCount","incrementCounter","render","getMovieList","list","all","onSelect","newSelectedItem","Login","handleLogin","e","a","preventDefault","login","history","push","onChangeUsername","target","value","onChangePassword","loginErrorMessage","Row","Col","sm","md","offset","align","Form","onSubmit","FormGroup","Input","type","placeholder","aria-label","onChange","href","UncontrolledAlert","fade","textAlign","display","backgroundColor","withRouter","Player","marginLeft","marginRight","margin","srcOrigin","App","currentUser","undefined","sessionExpired","user","getCurrentUser","isSessionExpired","exact","path","component","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","baseUrl","document","getElementsByTagName","getAttribute","rootElement","getElementById","ReactDOM","basename","URL","origin","addEventListener","status","get","indexOf","ready","unregister","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.169870da.chunk.js","sourcesContent":["import axios from \"axios\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { isJwtExpired } from 'jwt-check-expiration';\n\n\nconst API_URL = process.env.REACT_APP_MOVIES_SERVICE_URL;\n\nconst headers = {\n  \"Content-Type\": \"application/json\",\n};\nconst KEYS_USER=\"user\";\nconst KEYS_TOKEN=\"token\";\n\nclass AuthService {\n  \n  /**\n   * Creates a user\n   * @param {*} username \n   * @param {*} password \n   */\n  async createUser(username, password) {\n    await axios\n      .post(\n        API_URL + \"users\",\n        {\n          password: password,\n          email: username,\n          id: uuidv4(),\n        },\n        headers\n      )\n      .then((resp) => {\n        console.log(resp.data);\n      })\n      .catch((error) => {\n        console.log(error);\n      });  \n  }\n\n  /**\n   * Perform login returns auth token JWT\n   * @param {*} username \n   * @param {*} password \n   * @returns \n   */\n  async login(email, password) {\n    return await axios\n      .post(API_URL + \"login\", {\n        email,\n        password,\n      })\n      .then((response) => {\n        if (response.data.accessToken) {\n          localStorage.setItem(KEYS_USER, JSON.stringify(email));\n          localStorage.setItem(\n            KEYS_TOKEN,\n            JSON.stringify(response.data.accessToken)\n          );\n        }\n        return true;\n      }).catch(error => {\n        console.log('login failed'+ error.response.data.error)\n        return false;\n     });\n  }\n\n  /**\n   * Logout from the application and clear local storage\n   */\n  async logout() {\n    await this.clearFromLocalStorage([KEYS_USER,KEYS_TOKEN]);\n  }\n\n  async isSessionExpired() {\n    if(this.getToken() === null) return true;\n    return await isJwtExpired(this.getToken());\n  }\n\n  /**\n   * util function to clear local storage\n   * @param {*} keys \n   */\n  async clearFromLocalStorage(keys)\n  {\n    await keys.map( (key,index) => (\n      localStorage.removeItem(key)\n     )); \n  }\n\n  /**\n   * Register a user account\n   * @param {Regr} username \n   * @param {*} email \n   * @param {*} password \n   * @returns \n   */\n  register(username, email, password) {\n    return axios.post(API_URL + \"signup\", {\n      username,\n      email,\n      password,\n    });\n  }\n\n  /**\n   * \n   * @returns Get current logged in user from local storage\n   */\n  getCurrentUser() {        \n    return JSON.parse(localStorage.getItem(KEYS_USER));\n  }\n\n  /**\n   * get authentication token\n   * @returns \n   */\n  getToken() {\n    if (localStorage.getItem(KEYS_TOKEN)) \n    {\n     return JSON.parse(localStorage.getItem(KEYS_TOKEN));;\n    }\n\n    return null;\n  }\n}\n\n\n\nexport default new AuthService();\n","import React, { Component } from 'react';\nimport { Collapse, Container, Navbar, NavbarBrand, NavbarToggler, NavItem, NavLink } from 'reactstrap';\nimport { Link } from 'react-router-dom';\nimport AuthService from '../services/AuthService';\n\nexport class NavMenu extends Component {\n  static displayName = NavMenu.name;\n\n  constructor (props) {\n    super(props);\n\n    this.toggleNavbar = this.toggleNavbar.bind(this);\n    this.logOut = this.logOut.bind(this);\n\n    this.state = {\n      collapsed: true,\n      title:'Movie Rental'\n    };\n  }\n\n  toggleNavbar () {\n    this.setState({\n      collapsed: !this.state.collapsed\n    });\n  }\n  async logOut() {\n    await AuthService.logout();\n    window.location.reload();\n  }\n\n  render () {\n    return (\n      <header>\n        <Navbar className=\"navbar-expand-sm navbar-toggleable-sm ng-white border-bottom box-shadow mb-3\" light>\n          <Container>\n            <NavbarBrand tag={Link} to=\"/\">\n            <img alt=\"\" src=\"logo.png\"></img>\n            </NavbarBrand>\n            <NavbarToggler onClick={this.toggleNavbar} className=\"mr-2\" />\n            <Collapse className=\"d-sm-inline-flex flex-sm-row-reverse\" isOpen={!this.state.collapsed} navbar>\n              <ul className=\"navbar-nav flex-grow\">\n                <NavItem>\n                  <NavLink tag={Link} className=\"text-dark\" to=\"/\">Home</NavLink>\n                </NavItem>\n                <NavItem>\n                  <NavLink tag={Link} className=\"text-dark\" to=\"/movies\">Movies</NavLink>\n                </NavItem>\n                <NavItem>\n                  <NavLink tag={Link} className=\"text-dark\" to=\"/fetch-orders\">My Rentals</NavLink>\n                </NavItem>\n                <NavItem>\n                  <NavLink tag={Link} className=\"text-dark\" to=\"/player\">Watch</NavLink>\n                </NavItem>\n                <NavItem>\n                  <NavLink tag={Link} className=\"text-dark\" to=\"/login\" onClick={this.logOut}>Logout</NavLink>\n                </NavItem>\n              </ul>\n            </Collapse>\n          </Container>\n        </Navbar>\n      </header>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Container } from 'reactstrap';\nimport { NavMenu } from './NavMenu';\n\nexport class Layout extends Component {\n  static displayName = Layout.name;\n\n  render () {\n    return (\n      <div>\n        <NavMenu />\n        <Container>\n          {this.props.children}\n        </Container>\n      </div>\n    );\n  }\n}\n","const API_URL = process.env.REACT_APP_MOVIES_SERVICE_URL;\n\nclass MoviesService {\n  async getSuggestions() {\n    const response = await fetch(API_URL + \"suggestions\");\n    return await response.json();\n  }\n\n  async populateRentalHistory() {\n    const response = await fetch(API_URL + \"rentalHistory\");\n    return await response.json();\n  }\n\n  async getMovieList() {\n    const response = await fetch(API_URL + \"movies\");\n    return await response.json();\n  }\n}\n\nexport default new MoviesService();\n","/**\n * @author Anoop Simon\n * @create date 2021-07-05 11:33:57\n * @modify date 2021-07-05 11:33:57\n * @desc A re -usable loader component\n */\nimport React, { Component } from \"react\";\nimport FadeLoader from \"react-spinners/FadeLoader\";\n\nexport default class Spinner extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n        color:'#8C55AA',\n        size:600\n    };\n  }\n\n  render() {\n    return (\n      <>\n        <div className=\"loader\">\n                    <FadeLoader\n            color={this.state.color}\n            loading={this.props.loading}\n            size={this.state.size}\n          ></FadeLoader>\n        \n        </div>\n      </>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport {\n  Card, CardImg, CardText, CardBody,\n  CardTitle, CardSubtitle, Button,CardDeck\n} from 'reactstrap';\nimport MoviesService from \"../services/MoviesService\";\nimport Spinner from \"./Spinner\";\nexport class Home extends Component {\n  static displayName = Home.name;\n\n  constructor(props){\n    super(props);\n    this.state =\n    {\n      movies : [],\n      loading:true\n    };\n  }\n\n  async componentDidMount() {\n    this.setState({\n      movies: await MoviesService.getSuggestions(),\n      loading:false\n    });\n  }\n\n  render() {\n    if(this.state.loading) return(<Spinner></Spinner>)\n    return (\n      <div>\n        <h1 className=\"title\">\n          MOVIES TO BUY OR RENT ON <br></br>\n          BLU-RAY, DVD & DIGITAL\n        </h1>\n        <CardDeck>\n        {this.state.movies.map((movie,key) => \n        \n        <Card key={key} style={{width:'350px',height:'400px',marginTop:'3%'}}>\n        <CardImg top src={movie.image} alt=\"Card image cap\" />\n        <CardBody>\n          <CardTitle tag=\"h5\">{movie.name}</CardTitle>\n          <CardSubtitle tag=\"h6\" className=\"mb-2 text-muted\">{movie.genre}</CardSubtitle>\n          <CardText>{movie.description}</CardText>\n          <Button className=\"styledButton\">Buy Or Rent</Button>\n        </CardBody>\n      </Card>\n        \n        ) }\n\n       \n     \n    </CardDeck>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Table } from \"reactstrap\";\nimport StarRatings from \"react-star-ratings\";\nimport {  Card } from \"reactstrap\";\nimport Spinner from \"./Spinner\";\nimport MoviesService from \"../services/MoviesService\";\n\nexport class Orders extends Component {\n  static displayName = Orders.name;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      forecasts: [],\n      loading: true,\n      color: \"purple\",\n      title: \"Movie Rental History\",\n    };\n  }\n\n  async componentDidMount() {\n    const rentalHistory = await MoviesService.populateRentalHistory();\n    this.setState({ forecasts: rentalHistory, loading: false });\n  }\n\n  static renderForecastsTable(forecasts) {\n    return (\n      <Card style={{ borderRadius: \"10px\" }}>\n        <Table aria-labelledby=\"tabelLabel\">\n          <thead>\n            <tr>\n              <th>Movie</th>\n              <th>Genre</th>\n              <th>Release Date</th>\n              <th>Price</th>\n              <th>Rating</th>\n              <th>Order Date</th>\n            </tr>\n          </thead>\n          <tbody>\n            {forecasts.map((forecast) => (\n              <tr key={forecast.date}>\n                <td>{forecast.movie}</td>\n                <td>{forecast.genre}</td>\n                <td>{forecast.releaseDate}</td>\n                <td>{forecast.price}</td>\n                <td>\n                  <StarRatings\n                    rating={forecast.rating}\n                    numberOfStars={5}\n                    name=\"rating\"\n                    starRatedColor=\"yellow\"\n                    starDimension=\"18px\"\n                  />\n                </td>\n                <td>{forecast.date}</td>\n              </tr>\n            ))}\n          </tbody>\n        </Table>\n      </Card>\n    );\n  }\n\n  render() {\n    let contents = this.state.loading ? (\n      <Spinner />\n    ) : (\n      Orders.renderForecastsTable(this.state.forecasts)\n    );\n\n    return (\n      <div>\n        <h1 className=\"title\">{this.state.title}</h1>\n        <p>Below is the list of movies you have rented in the past</p>\n        {contents}\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport FuzzySearch from \"react-fuzzy\";\n\nimport {\n  Card,\n  Button,\n  CardImg,\n  CardTitle,\n  CardText,\n  CardSubtitle,\n  CardBody,\n} from \"reactstrap\";\nimport MoviesService from \"../services/MoviesService\";\n\n\nexport class Movies extends Component {\n  static displayName = Movies.name;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentCount: 0,\n      title: \"Search Movies\",\n      movies: [],\n      result: null,\n    };\n    this.incrementCounter = this.incrementCounter.bind(this);\n    this.render = this.render.bind(this);\n  }\n\n  async componentDidMount() {\n    const data = await MoviesService.getMovieList();\n    this.setState({ movies: data, loading: false });\n  }\n\n  incrementCounter() {\n    this.setState({\n      currentCount: this.state.currentCount + 1,\n    });\n  }\n\n  handleOnSearch = (selectedResult) => {\n    console.log(selectedResult);\n    this.setState({\n      result: selectedResult,\n    });\n  };\n\n  result() {\n    return (\n      <Card className=\"result sr\">\n        <CardImg\n          top\n          width=\"0%\"\n          height=\"400px\"\n          src=\"img_titanic.jpg\"\n          alt=\"Card image cap\"\n        />\n        <CardBody>\n          <CardTitle tag=\"h5\">Titanic</CardTitle>\n          <CardSubtitle tag=\"h6\" className=\"mb-2 text-muted\">\n            126 wins & 83 nominations total\n          </CardSubtitle>\n          <CardText>\n            Titanic: Directed by James Cameron. With Leonardo DiCaprio, Kate\n            Winslet, Billy Zane, Kathy Bates. A seventeen-year-old aristocrat\n            falls in love with a kind{\" \"}\n          </CardText>\n          <Button className=\"styledButton\">Buy</Button>\n        </CardBody>\n      </Card>\n    );\n  }\n\n  render() {\n    return (\n      <>\n        <h1 className=\"title\">{this.state.title}</h1>\n        <div className=\"fuzzy\">\n          <FuzzySearch\n            list={this.state.movies}\n            keys={[\"author\", \"title\"]}\n            width={430}\n            style={{ all: \"unset\" }}\n            onSelect={(newSelectedItem) => {\n              this.handleOnSearch(newSelectedItem);\n            }}\n            className=\"fuzzy\"\n          />\n        </div>\n\n        {this.state.result === null ? <p> </p> : this.result()}\n      </>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Button, Form, FormGroup,  Input,UncontrolledAlert  } from \"reactstrap\";\nimport { Container, Row, Col } from \"reactstrap\";\nimport { withRouter } from \"react-router\";\nimport Spinner from \"./Spinner\";\n\nimport AuthService from \"../services/AuthService\";\nimport {Card} from \"reactstrap\";\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n      this.state = {\n      username: \"\",\n      password: \"\",\n      loading: false,\n      error:false,\n      loginErrorMessage:'Invalid Username or Password'\n    };\n  }\n\n   handleLogin = async(e) => {\n    e.preventDefault();\n    this.setState({\n      loading: true,\n    });\n    //await AuthService.createUser('admin@mvrental.com','admin');\n    //await AuthService.createUser(this.state.username,this.state.password);\n    var loginStatus = await AuthService.login(this.state.username,this.state.password);\n    if(loginStatus)\n    {\n      this.props.history.push(\"/\");\n      window.location.reload();\n      return;\n    }\n    this.setState({\n      loading: false,\n      error:true\n    });\n  }\n\n  onChangeUsername=(e)=>{\n    this.setState({\n      username: e.target.value,\n    });\n  }\n  onChangePassword=(e)=>{\n    this.setState({\n      password: e.target.value,\n    });\n  }\n\n  render() {\n    if (this.state.loading) return (<Spinner loading={this.state.loading}/>);\n\n    return (\n      <>\n        <Container>\n          <Row style={{ marginTop: \"20%\" }}>\n            <Col sm=\"12\" md={{ size: 6, offset: 3 }}>\n              <Card className=\"loginForm\">\n              <img alt=\"logo\" src=\"logo.png\"></img>\n              <p className=\"sign\" align=\"center\">Sign in</p>\n                <Form onSubmit={this.handleLogin}>\n                 \n                  <FormGroup>\n                    <Input\n                      type=\"email\"\n                      name=\"email\"\n                      id=\"username\"\n                      placeholder=\"Username\"\n                      aria-label=\"username or email\"\n                      className=\"un\"\n                      onChange={this.onChangeUsername}\n                    />\n                  </FormGroup>\n                  <FormGroup>\n                    <Input\n                      type=\"password\"\n                      name=\"password\"\n                      id=\"pwd\"\n                      placeholder=\"Password\"\n                      aria-label=\"password\"\n                      className=\"un\"\n                      onChange={this.onChangePassword}\n                    />\n                  </FormGroup>\n                  <Button\n                    id=\"loginBtn\"\n                    aria-label=\"Login Button\"\n                    className=\"styledButton\"\n                  >\n                    Submit\n                  </Button>\n\n                </Form>\n                <p className=\"forgot\" align=\"center\"><a aria-label=\"forgot password\" href=\"/\">Forgot Password?</a></p>\n                {this.state.error? <UncontrolledAlert  fade={true} style={{textAlign:'center',display:'inline',backgroundColor:'rgba(220, 53, 69, 0.9)',color:'white',borderRadius:'8px'}}>{this.state.loginErrorMessage}</UncontrolledAlert >:''}\n\n              </Card>\n            </Col>\n          </Row>\n        </Container>\n      </>\n    );\n  }\n}\nexport default withRouter(Login);\n","import React, { Component } from \"react\";\nimport QierPlayer from 'qier-player';\nimport { UncontrolledAlert } from 'reactstrap';\n\nexport class Player extends Component {\n  static displayName = Player.name;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentCount: 0,\n      title: \"Watch Movies / TV Shows\",\n      result: null,\n    };\n    this.incrementCounter = this.incrementCounter.bind(this);\n    this.render = this.render.bind(this);\n  }\n\n  async componentDidMount() {\n   // this.setState({ movies: data, loading: false });\n  }\n\n  incrementCounter() {\n    this.setState({\n      currentCount: this.state.currentCount + 1,\n    });\n  }\n\n  handleOnSearch = (selectedResult) => {\n    console.log(selectedResult);\n    this.setState({\n      result: selectedResult,\n    });\n  };\n\n  result() {\n    return (\n     <></>\n    );\n  }\n\n  render() {\n    return (\n      <>\n        <h1 className=\"title\">{this.state.title}</h1>\n        <UncontrolledAlert color=\"info\" fade={false}>\n        This feature is currently work in progress ..\n      </UncontrolledAlert>\n\n        <div style={{marginLeft:'auto',marginRight:'auto'}}>\n        <QierPlayer style= {{margin:'auto'}} srcOrigin=\"https://file-examples-com.github.io/uploads/2017/04/file_example_MP4_480_1_5MG.mp4\" />\n        </div>\n      </>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Switch, Route } from \"react-router-dom\";\nimport { Layout } from './components/Layout';\nimport { Home } from './components/Home';\nimport {  Orders } from './components/Orders';\nimport {  Movies } from './components/Movies';\nimport  Login  from './components/Login';\nimport './custom.css'\nimport AuthService from './services/AuthService';\nimport { Player } from './components/Player';\n\nexport default class App extends Component {\n  static displayName = App.name;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n       currentUser: undefined,\n       sessionExpired:true\n    };\n  }\n\n  async componentDidMount() {\n    const user = AuthService.getCurrentUser();\n    const sessionExpired = await AuthService.isSessionExpired();\n\n    if (user) {\n      this.setState({\n        currentUser: user,  \n        sessionExpired:sessionExpired      \n      });\n    }\n  }\n\n  render () {\n    //if(this.state.currentUser === undefined) return (<><Login></Login></>) ;\n    if(this.state.sessionExpired) return (<><Login></Login></>) ;\n\n    return (\n\n      <Layout>\n         <Switch>\n        <Route exact path='/' component={Home} />\n        <Route path='/movies' component={Movies} />\n        <Route path='/fetch-orders' component={Orders} />\n        <Route path='/login' component={Login} />\n        <Route path='/player' component={Player} />\n        </Switch>\n      </Layout>\n    );\n  }\n}\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.1/8 is considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\nexport default function register () {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW (swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker (swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister () {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import 'bootstrap/dist/css/bootstrap.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\n\nconst baseUrl = document.getElementsByTagName('base')[0].getAttribute('href');\nconst rootElement = document.getElementById('root');\n\nReactDOM.render(\n  <BrowserRouter basename={baseUrl}>\n    <App />\n  </BrowserRouter>,\n  rootElement);\n\nregisterServiceWorker();\n\n"],"sourceRoot":""}